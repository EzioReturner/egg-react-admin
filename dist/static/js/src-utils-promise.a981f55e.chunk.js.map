{"version":3,"sources":["webpack:///./src/utils/promise.ts"],"names":["_promiseAll","requestArr","length","every","req","Promise","Error","results","forEachAsync","then","res","catch","err","data","error","push","Object","setPrototypeOf","Array","prototype","callback","thisArg","entries","this","index","item"],"mappings":"wvCAeO,SAAeA,EAAtB,kC,iDAAO,WAA2BC,GAA3B,yFACqB,IAAtBA,EAAWC,OADV,oDAGFD,EAAWE,OAAM,SAAAC,GAChB,OAAOA,aAAeC,WAJrB,yCAOI,IAAIC,MAAM,wCAPd,cASDC,EAAe,GATd,SAYCN,EAAWO,aAAX,4CAAwB,WAAOJ,GAAP,4GACAA,EAAIK,MAAK,SAAAC,GAAG,MAAI,CAACA,EAAK,SAAOC,OAAM,SAAAC,GAAG,MAAI,CAAC,KAAMA,MADjD,yBACrBC,EADqB,KACfC,EADe,KAE5BP,EAAQQ,KAAK,CAACF,EAAMC,IAFQ,2CAAxB,uDAZD,gCAiBEP,GAjBF,4C,yEAfPS,OAAOC,eAAeC,M,+VAAtB,IACKA,MAAMC,UADX,CAEEX,aAAa,WAAD,iCAAE,WAAeY,EAAoBC,GAAnC,oGACcL,OAAOM,QAAQC,MAD7B,2DACFC,EADE,KACKC,EADL,cAEJL,EAASK,EAAMD,EAAOD,MAFlB,0EAAF,qDAAC","file":"static/js/src-utils-promise.a981f55e.chunk.js","sourcesContent":["Object.setPrototypeOf(Array, {\n  ...Array.prototype,\n  forEachAsync: async function(callback: Function, thisArg: any) {\n    for (let [index, item] of Object.entries(this)) {\n      await callback(item, index, this);\n    }\n  }\n});\n// // @ts-ignore\n// Array.prototype.forEachAsync = async function(callback: Function, thisArg) {\n//   for (let [index, item] of Object.entries(this)) {\n//     await callback(item, index, this);\n//   }\n// };\n\nexport async function _promiseAll(requestArr: Promise<any>[]) {\n  if (requestArr.length === 0) return;\n  if (\n    !requestArr.every(req => {\n      return req instanceof Promise;\n    })\n  ) {\n    return new Error('contain not instanceof Promise unit');\n  }\n  let results: any = [];\n\n  // @ts-ignore\n  await requestArr.forEachAsync(async (req: Promise<any>) => {\n    const [data, error] = await req.then(res => [res, null]).catch(err => [null, err]);\n    results.push([data, error]);\n  });\n\n  return results;\n}\n"],"sourceRoot":""}