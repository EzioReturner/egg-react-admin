{"version":3,"sources":["components/Echarts/index.jsx","views/Dashboard/GlobalTrends.jsx","../node_modules/size-sensor/lib/constant.js","../node_modules/size-sensor/lib/index.js","../node_modules/size-sensor/lib/sensorPool.js","../node_modules/size-sensor/lib/id.js","../node_modules/size-sensor/lib/sensors/index.js","../node_modules/size-sensor/lib/sensors/object.js","../node_modules/size-sensor/lib/debounce.js"],"names":["EchartsReact","props","_this","Object","F_project_RATurbo_react_admin_1_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","F_project_RATurbo_react_admin_1_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","F_project_RATurbo_react_admin_1_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","echartsDOM","chartObj","renderChart","bind","resize","_this$props","option","theme","echarts","getInstanceByDom","init","initChart","dispose","clear","getInstance","_this$props2","notMerge","lazyUpdate","Array","isArray","setOption","_this2","_this$props3","style","className","domStyle","F_project_RATurbo_react_admin_1_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","height","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","concat","ref","e","Component","GlobalTrends","react__WEBPACK_IMPORTED_MODULE_7___default","antd_es_card__WEBPACK_IMPORTED_MODULE_1__","hoverable","bordered","bodyStyle","overflow","title","components_FormatterLocale__WEBPACK_IMPORTED_MODULE_10__","id","defaultMessage","components_Echarts__WEBPACK_IMPORTED_MODULE_8__","width","globalTrendsOption","PureComponent","defineProperty","exports","value","SizeSensorId","SensorStyle","SensorClassName","ver","undefined","_sensorPool","__webpack_require__","element","cb","sensor","getSensor","unbind","removeSensor","obj","_id","_id2","__esModule","default","_sensors","_constant","Sensors","sensorId","getAttribute","newId","setAttribute","createSensor","removeAttribute","destroy","module","_object","_debounce","_debounce2","listeners","resizeListener","forEach","listener","parentNode","contentDocument","defaultView","removeEventListener","removeChild","getComputedStyle","position","document","onload","addEventListener","type","appendChild","data","newSensor","indexOf","push","idx","splice","length","fn","delay","arguments","timer","_len","args","_key","clearTimeout","setTimeout","apply"],"mappings":"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","file":"static/js/47.ffa03c18.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport echarts from 'echarts';\nimport { bind, clear } from 'size-sensor';\nimport PropTypes from 'prop-types';\n\nclass EchartsReact extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.echartsDOM = null; // echarts div element\n\t}\n\n\tinitChart() {\n\t\tconst chartObj = this.renderChart();\n\t\tbind(this.echartsDOM, () => {\n\t\t\tchartObj.resize();\n\t\t});\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.renderChart();\n\t}\n\n\tgetInstance() {\n\t\tconst { option, theme } = this.props;\n\n\t\treturn (\n\t\t\techarts.getInstanceByDom(this.echartsDOM) ||\n\t\t\techarts.init(this.echartsDOM, theme, option)\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.initChart();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.dispose();\n\t}\n\n\tdispose() {\n\t\tclear(this.echartsDOM);\n\t\tthis.echartsDOM && echarts.dispose(this.echartsDOM);\n\t}\n\n\trenderChart() {\n\t\tconst chartObj = this.getInstance();\n\t\tlet { option } = this.props;\n\t\tconst { notMerge, lazyUpdate } = this.props;\n\t\toption = Array.isArray(option) ? option : [option];\n\t\tchartObj.setOption(option[0] || {}, notMerge || false, lazyUpdate || false);\n\t\toption[1] && chartObj.setOption(option[1]);\n\t\treturn chartObj;\n\t}\n\n\trender() {\n\t\tconst { style, className } = this.props;\n\t\tconst domStyle = {\n\t\t\theight: '300px',\n\t\t\t...style\n\t\t};\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={domStyle}\n\t\t\t\tclassName={`echarts-react ${className || ''}`}\n\t\t\t\tref={e => {\n\t\t\t\t\tthis.echartsDOM = e;\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nEchartsReact.propTypes = {\n\tstyle: PropTypes.object,\n\tclassName: PropTypes.string,\n\ttheme: PropTypes.string,\n\toption: PropTypes.oneOfType([\n\t\tPropTypes.object,\n\t\tPropTypes.arrayOf(PropTypes.object)\n\t]),\n\tnotMerge: PropTypes.bool,\n\tlazyUpdate: PropTypes.bool,\n};\n\nexport default EchartsReact;\n","import React, { PureComponent } from 'react';\nimport { Card } from 'antd';\nimport EchartsReact from 'components/Echarts';\nimport { globalTrendsOption } from 'assets/chartOption';\nimport FormatterLocale from 'components/FormatterLocale';\n\nclass GlobalTrends extends PureComponent {\n\t\n\tcomponentDidMount() { }\n\n\tcomponentWillUnmount() { }\n\n\trender() {\n\t\treturn (\n\t\t\t<Card\n\t\t\t\thoverable\n\t\t\t\tbordered={false}\n\t\t\t\tclassName=\"fat-card global-trends\"\n\t\t\t\tbodyStyle={{ overflow: 'hidden' }}\n\t\t\t\ttitle={<FormatterLocale id=\"dashboard.trends\" defaultMessage=\"全球趋势\" />}\n\t\t\t>\n\t\t\t\t<EchartsReact\n\t\t\t\t\tstyle={{ height: '350px', width: '100%' }}\n\t\t\t\t\toption={globalTrendsOption}\n\t\t\t\t/>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default GlobalTrends;\n\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nvar SizeSensorId = exports.SizeSensorId = 'size-sensor-id';\nvar SensorStyle = exports.SensorStyle = 'display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;opacity:0';\nvar SensorClassName = exports.SensorClassName = 'size-sensor-object';","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = undefined;\n\nvar _sensorPool = require('./sensorPool');\n/**\n * 对外暴露的 bind 方法\n * @param {*} element\n * @param {*} cb\n */\n\n\nvar bind = exports.bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // 绑定新的方法\n\n  sensor.bind(cb); // 返回 unbind 方法\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * 清空一个 element 中的所有监听\n * @param element\n */\n\n/**\n * Created by hustcc on 18/6/9.[高考时间]\n * Contract: i@hust.cc\n */\n\n\nvar clear = exports.clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nvar ver = exports.ver = '0.2.4';","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = undefined;\n\nvar _id = require('./id');\n\nvar _id2 = _interopRequireDefault(_id);\n\nvar _sensors = require('./sensors');\n\nvar _constant = require('./constant');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * all the sensor objects.\n * 传感器池子\n */\n\n\nvar Sensors = {};\n/**\n * 获取 sensor\n * @param element\n * @returns {*}\n */\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nvar getSensor = exports.getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. 已经存在，则直接取这个 sensor\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. 不存在则创建\n\n\n  var newId = (0, _id2.default)();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // 添加到池子中\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n * 移除 sensor\n * @param sensor\n */\n\n\nvar removeSensor = exports.removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // 移除 attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // 移除 sensor 对应的 事件 和 dom 结构\n\n  sensor.destroy(); // 存在则从 pool 中移除\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nvar id = 1;\n\nexports.default = function () {\n  return \"\" + id++;\n};\n\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = undefined;\n\nvar _object = require('./object'); // import { createSensor as createResizeObserverSensor } from './resizeObserver';\n\n/**\n * 传感器使用策略\n */\n\n\nvar createSensorFunc = function createSensorFunc() {\n  return _object.createSensor; // 部分浏览器 ResizeObserver 出现 crash\n  // return typeof ResizeObserver !== 'undefined' ? createResizeObserverSensor : createObjectSensor;\n};\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n\nvar createSensor = exports.createSensor = createSensorFunc();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = undefined;\n\nvar _debounce = require('../debounce');\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _constant = require('../constant');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n\nvar createSensor = exports.createSensor = function createSensor(element) {\n  // 感应器\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * 创建 sensor 的 object DOM\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // 调整样式\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); // 直接触发一次 resize\n\n      resizeListener();\n    };\n\n    obj.setAttribute('style', _constant.SensorStyle);\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.type = 'text/html'; // 添加到 dom 结构中\n\n    element.appendChild(obj); // 对于 ie 需要滞后，否则白屏，所以放到后面\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * 统一触发 listeners\n   */\n\n\n  var resizeListener = (0, _debounce2.default)(function () {\n    // 依次触发执行\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * 监听某一个 callback\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // 如果不存在 sensor，则创建一个 object\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * 完全 destroy\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // 移除事件\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // 移除 dom\n\n\n      sensor.parentNode.removeChild(sensor); // 初始化\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * 取消绑定\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // 不存在 listener，并且存在 sensor object\n    // 则移除 object\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nexports.default = function (fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nmodule.exports = exports[\"default\"];"],"sourceRoot":""}