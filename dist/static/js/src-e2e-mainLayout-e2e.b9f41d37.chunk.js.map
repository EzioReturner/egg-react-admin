{"version":3,"sources":["webpack:///./src/e2e/mainLayout.e2e.js"],"names":["BASE_URL","process","env","PORT","describe","beforeAll","jest","setTimeout","page","goto","type","click","afterEach","waitFor","formatter","routes","reduce","total","info","push","path","asyncRouteConfig","forEach","route","it","waitForSelector","timeout","evaluate","document","getElementsByTagName","length","haveFooter","expect","toBeTruthy"],"mappings":"m0BAEA,IAAMA,EAAQ,2BAAuBC,EAAQC,IAAIC,MAAQ,MASzDC,SAAS,cAAc,WACrBC,UAAS,2BAAC,oGACRC,KAAKC,WAAW,KADR,SAEFC,KAAKC,KAAL,UAAaT,EAAb,kBAFE,uBAGFQ,KAAKE,KAAK,yBAA0B,SAHlC,uBAIFF,KAAKE,KAAK,yBAA0B,OAJlC,uBAKFF,KAAKG,MAAM,iBALT,4CAQVC,UAAS,2BAAC,6GACFJ,KAAKK,QAAQ,KADX,6CAhBZ,SAASC,EAAUC,GACjB,OAAOA,EAAOC,QAAO,SAACC,EAAOC,GAE3B,OADAA,EAAKH,OAASE,EAAME,KAAN,MAAAF,EAAK,EAASH,EAAUI,EAAKH,UAAWE,EAAME,KAAKD,EAAKE,MAC/DH,IACN,KA2BYH,CAAUO,oBAElBC,SAAQ,SAAAC,GAbE,IAAAH,EAcfI,GAAG,cAAD,OAAeD,IAdFH,EAcoBG,EAdhB,2BAAI,mHACjBf,KAAKC,KAAL,UAAaT,EAAb,aAA0BoB,IADT,uBAEjBZ,KAAKiB,gBAAgB,SAAU,CACnCC,QAAS,MAHY,uBAKElB,KAAKmB,UAC5B,kBAAMC,SAASC,qBAAqB,UAAUC,OAAS,KANlC,OAKjBC,EALiB,OAQvBC,OAAOD,GAAYE,aARI,oD","file":"static/js/src-e2e-mainLayout-e2e.b9f41d37.chunk.js","sourcesContent":["import { asyncRouteConfig } from '../config/router.config';\n\nconst BASE_URL = `http://localhost:${process.env.PORT || 9527}`;\n\nfunction formatter(routes) {\n  return routes.reduce((total, info) => {\n    info.routes ? total.push(...formatter(info.routes)) : total.push(info.path);\n    return total;\n  }, []);\n}\n\ndescribe('mainLayout', () => {\n  beforeAll(async () => {\n    jest.setTimeout(1000000);\n    await page.goto(`${BASE_URL}/#/user/login`);\n    await page.type('#normal_login_username', 'admin');\n    await page.type('#normal_login_password', '123');\n    await page.click('#login_button');\n  });\n\n  afterEach(async () => {\n    await page.waitFor(1000);\n  });\n\n  const testPage = path => async () => {\n    await page.goto(`${BASE_URL}/#${path}`);\n    await page.waitForSelector('footer', {\n      timeout: 2000\n    });\n    const haveFooter = await page.evaluate(\n      () => document.getElementsByTagName('footer').length > 0\n    );\n    expect(haveFooter).toBeTruthy();\n  };\n\n  const routes = formatter(asyncRouteConfig);\n\n  routes.forEach(route => {\n    it(`test pages ${route}`, testPage(route));\n  });\n\n  // it('test layout header display', async () => {\n  //   await page.goto(`${BASE_URL}/#/`);\n  //   await page.waitFor(1000);\n  //   await page.evaluate(() => document.getElementById('setting_setShowHeader').click());\n  //   const havHeader = await page.evaluate(() => document.getElementsByTagName('header').length > 0);\n  //   expect(havHeader).toBeFalsy();\n  // });\n\n  // it('test layout menu display', async () => {\n  //   await page.goto(`${BASE_URL}/#/`);\n  //   await page.waitFor(1000);\n  //   await page.evaluate(() => document.getElementById('setting_setShowMenu').click());\n  //   const havMenu = await page.evaluate(() => document.getElementsByTagName('aside').length > 0);\n  //   expect(havMenu).toBeFalsy();\n  // });\n});\n"],"sourceRoot":""}