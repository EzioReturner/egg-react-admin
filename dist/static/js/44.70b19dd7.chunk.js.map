{"version":3,"sources":["components/Echarts/index.jsx","views/Program/Analysis/DistributeCard.jsx","../node_modules/antd/es/icon/style/index.js","../node_modules/size-sensor/lib/constant.js","../node_modules/size-sensor/lib/index.js","../node_modules/size-sensor/lib/sensorPool.js","../node_modules/size-sensor/lib/id.js","../node_modules/size-sensor/lib/sensors/index.js","../node_modules/size-sensor/lib/sensors/object.js","../node_modules/size-sensor/lib/debounce.js"],"names":["EchartsReact","props","_this","Object","F_project_RATurbo_react_admin_1_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","F_project_RATurbo_react_admin_1_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","F_project_RATurbo_react_admin_1_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","echartsDOM","chartObj","renderChart","bind","resize","_this$props","option","theme","echarts","getInstanceByDom","init","initChart","dispose","clear","getInstance","_this$props2","notMerge","lazyUpdate","Array","isArray","setOption","_this2","_this$props3","style","className","domStyle","F_project_RATurbo_react_admin_1_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","height","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","concat","ref","e","Component","ChartCard","title","CardTitle","react__WEBPACK_IMPORTED_MODULE_13___default","antd_es_icon__WEBPACK_IMPORTED_MODULE_12__","type","marginLeft","antd_es_card__WEBPACK_IMPORTED_MODULE_10__","hoverable","bordered","marginBottom","bodyStyle","overflow","components_Echarts__WEBPACK_IMPORTED_MODULE_14__","DistributeCard","inject","observer","_this$props$programSt","programStore","getChartOption","circleOption","barOption","cityOption","provinceOption","lineOption","react__WEBPACK_IMPORTED_MODULE_13__","antd_es_row__WEBPACK_IMPORTED_MODULE_1__","gutter","antd_es_col__WEBPACK_IMPORTED_MODULE_3__","xl","lg","md","sm","xs","__webpack_require__","defineProperty","exports","value","SizeSensorId","SensorStyle","SensorClassName","ver","undefined","_sensorPool","element","cb","sensor","getSensor","unbind","removeSensor","obj","_id","_id2","__esModule","default","_sensors","_constant","Sensors","sensorId","getAttribute","newId","setAttribute","createSensor","removeAttribute","destroy","id","module","_object","_debounce","_debounce2","listeners","resizeListener","forEach","listener","parentNode","contentDocument","defaultView","removeEventListener","removeChild","getComputedStyle","position","document","onload","addEventListener","appendChild","data","newSensor","indexOf","push","idx","splice","length","fn","delay","arguments","timer","_len","args","_key","clearTimeout","setTimeout","apply"],"mappings":"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","file":"static/js/44.70b19dd7.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport echarts from 'echarts';\nimport { bind, clear } from 'size-sensor';\nimport PropTypes from 'prop-types';\n\nclass EchartsReact extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.echartsDOM = null; // echarts div element\n\t}\n\n\tinitChart() {\n\t\tconst chartObj = this.renderChart();\n\t\tbind(this.echartsDOM, () => {\n\t\t\tchartObj.resize();\n\t\t});\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.renderChart();\n\t}\n\n\tgetInstance() {\n\t\tconst { option, theme } = this.props;\n\n\t\treturn (\n\t\t\techarts.getInstanceByDom(this.echartsDOM) ||\n\t\t\techarts.init(this.echartsDOM, theme, option)\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.initChart();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.dispose();\n\t}\n\n\tdispose() {\n\t\tclear(this.echartsDOM);\n\t\tthis.echartsDOM && echarts.dispose(this.echartsDOM);\n\t}\n\n\trenderChart() {\n\t\tconst chartObj = this.getInstance();\n\t\tlet { option } = this.props;\n\t\tconst { notMerge, lazyUpdate } = this.props;\n\t\toption = Array.isArray(option) ? option : [option];\n\t\tchartObj.setOption(option[0] || {}, notMerge || false, lazyUpdate || false);\n\t\toption[1] && chartObj.setOption(option[1]);\n\t\treturn chartObj;\n\t}\n\n\trender() {\n\t\tconst { style, className } = this.props;\n\t\tconst domStyle = {\n\t\t\theight: '300px',\n\t\t\t...style\n\t\t};\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={domStyle}\n\t\t\t\tclassName={`echarts-react ${className || ''}`}\n\t\t\t\tref={e => {\n\t\t\t\t\tthis.echartsDOM = e;\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nEchartsReact.propTypes = {\n\tstyle: PropTypes.object,\n\tclassName: PropTypes.string,\n\ttheme: PropTypes.string,\n\toption: PropTypes.oneOfType([\n\t\tPropTypes.object,\n\t\tPropTypes.arrayOf(PropTypes.object)\n\t]),\n\tnotMerge: PropTypes.bool,\n\tlazyUpdate: PropTypes.bool,\n};\n\nexport default EchartsReact;\n","import React, { Component, Fragment } from 'react';\nimport { Card, Row, Col, Icon } from 'antd';\nimport EchartsReact from 'components/Echarts';\nimport { observer, inject } from 'mobx-react';\n\nconst ChartCard = (props) => {\n\tconst style = {\n\t\tmarginBottom: '24px'\n\t};\n\tconst { title, option } = props;\n\tconst CardTitle = (\n\t\t<div className=\"titleNanme\">\n\t\t\t{title}\n\t\t\t<div className=\"iconBar\">\n\t\t\t\t<Icon type=\"redo\" />\n\t\t\t\t<Icon\n\t\t\t\t\ttype=\"cloud-download\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmarginLeft: '10px'\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n\treturn (\n\t\t<Card\n\t\t\thoverable\n\t\t\ttitle={CardTitle}\n\t\t\tclassName=\"thin-card\"\n\t\t\tbordered={false}\n\t\t\tstyle={title !== '省份' ? style : null}\n\t\t\tbodyStyle={{ overflow: 'hidden' }}\n\t\t>\n\t\t\t<EchartsReact option={option} />\n\t\t</Card>\n\t);\n}\n\n@inject('programStore')\n@observer\nclass DistributeCard extends Component {\n\trender() {\n\t\tconst {\n\t\t\tgetChartOption: {\n\t\t\t\tcircleOption,\n\t\t\t\tbarOption,\n\t\t\t\tcityOption,\n\t\t\t\tprovinceOption,\n\t\t\t\tlineOption\n\t\t\t}\n\t\t} = this.props.programStore;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Row gutter={24}>\n\t\t\t\t\t<Col xl={12} lg={12} md={24} sm={24} xs={24}>\n\t\t\t\t\t\t<ChartCard title=\"性别\" option={circleOption} />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xl={12} lg={12} md={24} sm={24} xs={24}>\n\t\t\t\t\t\t<ChartCard title=\"年龄\" option={barOption} />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<ChartCard title=\"渠道\" option={lineOption} />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row gutter={24}>\n\t\t\t\t\t<Col xl={12} lg={12} md={24} sm={24} xs={24}>\n\t\t\t\t\t\t<ChartCard title=\"城市\" option={[barOption, cityOption]} />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xl={12} lg={12} md={24} sm={24} xs={24}>\n\t\t\t\t\t\t<ChartCard title=\"省份\" option={[barOption, provinceOption]} />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\nexport default DistributeCard;\n","import '../../style/index.less';\nimport './index.less';","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nvar SizeSensorId = exports.SizeSensorId = 'size-sensor-id';\nvar SensorStyle = exports.SensorStyle = 'display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;opacity:0';\nvar SensorClassName = exports.SensorClassName = 'size-sensor-object';","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = undefined;\n\nvar _sensorPool = require('./sensorPool');\n/**\n * 对外暴露的 bind 方法\n * @param {*} element\n * @param {*} cb\n */\n\n\nvar bind = exports.bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // 绑定新的方法\n\n  sensor.bind(cb); // 返回 unbind 方法\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * 清空一个 element 中的所有监听\n * @param element\n */\n\n/**\n * Created by hustcc on 18/6/9.[高考时间]\n * Contract: i@hust.cc\n */\n\n\nvar clear = exports.clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nvar ver = exports.ver = '0.2.4';","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = undefined;\n\nvar _id = require('./id');\n\nvar _id2 = _interopRequireDefault(_id);\n\nvar _sensors = require('./sensors');\n\nvar _constant = require('./constant');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * all the sensor objects.\n * 传感器池子\n */\n\n\nvar Sensors = {};\n/**\n * 获取 sensor\n * @param element\n * @returns {*}\n */\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nvar getSensor = exports.getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. 已经存在，则直接取这个 sensor\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. 不存在则创建\n\n\n  var newId = (0, _id2.default)();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // 添加到池子中\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n * 移除 sensor\n * @param sensor\n */\n\n\nvar removeSensor = exports.removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // 移除 attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // 移除 sensor 对应的 事件 和 dom 结构\n\n  sensor.destroy(); // 存在则从 pool 中移除\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nvar id = 1;\n\nexports.default = function () {\n  return \"\" + id++;\n};\n\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = undefined;\n\nvar _object = require('./object'); // import { createSensor as createResizeObserverSensor } from './resizeObserver';\n\n/**\n * 传感器使用策略\n */\n\n\nvar createSensorFunc = function createSensorFunc() {\n  return _object.createSensor; // 部分浏览器 ResizeObserver 出现 crash\n  // return typeof ResizeObserver !== 'undefined' ? createResizeObserverSensor : createObjectSensor;\n};\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n\nvar createSensor = exports.createSensor = createSensorFunc();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = undefined;\n\nvar _debounce = require('../debounce');\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _constant = require('../constant');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n\nvar createSensor = exports.createSensor = function createSensor(element) {\n  // 感应器\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * 创建 sensor 的 object DOM\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // 调整样式\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); // 直接触发一次 resize\n\n      resizeListener();\n    };\n\n    obj.setAttribute('style', _constant.SensorStyle);\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.type = 'text/html'; // 添加到 dom 结构中\n\n    element.appendChild(obj); // 对于 ie 需要滞后，否则白屏，所以放到后面\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * 统一触发 listeners\n   */\n\n\n  var resizeListener = (0, _debounce2.default)(function () {\n    // 依次触发执行\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * 监听某一个 callback\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // 如果不存在 sensor，则创建一个 object\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * 完全 destroy\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // 移除事件\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // 移除 dom\n\n\n      sensor.parentNode.removeChild(sensor); // 初始化\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * 取消绑定\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // 不存在 listener，并且存在 sensor object\n    // 则移除 object\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nexports.default = function (fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nmodule.exports = exports[\"default\"];"],"sourceRoot":""}