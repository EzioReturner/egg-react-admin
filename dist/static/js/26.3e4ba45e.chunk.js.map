{"version":3,"sources":["components/Authorized/index.jsx","components/Authorized/CheckPermission.jsx"],"names":["Authorized","inject","_this$props","this","props","children","routeAuthority","unidentified","_children","currentAuthority","userStore","authority","CheckPermission","PureComponent","__webpack_require__","r","__webpack_exports__","d","Target","Unidentified","length","Array","isArray","indexOf","i","element","Error"],"mappings":"2KAQMA,EADLC,YAAO,gMAEE,IAAAC,EACsDC,KAAKC,MAA3DC,EADAH,EACAG,SAAUC,EADVJ,EACUI,eAAgBC,EAD1BL,EAC0BK,aAC5BC,EAAgC,qBAAbH,EAA2B,KAAOA,EACrDI,EAHEP,EACwCQ,UAEbC,UACnC,OAAOC,0BACNN,EACAG,EACAD,EACAD,UATsBM,qBAsBVb,8CC9Bfc,EAAAC,EAAAC,GAAAF,EAAAG,EAAAD,EAAA,oCAAAJ,IAQO,IAAMA,EAAkB,SAC9BN,EACAG,EACAS,EACAC,GAEA,IAAKV,GAAgD,IAA5BA,EAAiBW,OACzC,OAAOD,EAER,IAAKb,EACJ,OAAOY,EAER,GAAIG,MAAMC,QAAQhB,GAAiB,CAClC,GAAIA,EAAeiB,QAAQd,IAAqB,EAC/C,OAAOS,EAER,GAAIG,MAAMC,QAAQb,GACjB,IAAK,IAAIe,EAAI,EAAGA,EAAIf,EAAiBW,OAAQI,GAAK,EAAG,CACpD,IAAMC,EAAUhB,EAAiBe,GACjC,GAAIlB,EAAeiB,QAAQE,IAAY,EACtC,OAAOP,EAIV,OAAOC,EAER,GAA8B,kBAAnBb,EAA6B,CACvC,GAAuB,QAAnBA,EACH,OAAOG,EAAmBS,EAASC,EAGpC,GAAIb,IAAmBG,EACtB,OAAOS,EAER,GAAIG,MAAMC,QAAQb,GACjB,IAAK,IAAIe,EAAI,EAAGA,EAAIf,EAAiBW,OAAQI,GAAK,EAAG,CAEpD,GAAIlB,IADYG,EAAiBe,GAEhC,OAAON,EAIV,OAAOC,EAER,MAAM,IAAIO,MAAM","file":"static/js/26.3e4ba45e.chunk.js","sourcesContent":["/* eslint-disable */\nimport React, { PureComponent } from 'react';\n/* eslint-disable */\nimport { inject } from 'mobx-react';\nimport PropTypes from 'prop-types';\nimport { CheckPermission } from './CheckPermission';\n\n@inject('userStore')\nclass Authorized extends PureComponent {\n\trender() {\n\t\tconst { children, routeAuthority, unidentified, userStore } = this.props;\n\t\tconst _children = typeof children === 'undefined' ? null : children;\n\t\tconst currentAuthority = userStore.authority;\n\t\treturn CheckPermission(\n\t\t\trouteAuthority,\n\t\t\tcurrentAuthority,\n\t\t\t_children,\n\t\t\tunidentified\n\t\t);\n\t}\n}\n\nAuthorized.propTypes = {\n\trouteAuthority: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.string),\n\t\tPropTypes.string\n\t]),\n\tunidentified: PropTypes.node,\n};\n\nexport default Authorized;\n","/**\n * 权限检查\n * Common check permissions method\n * @param { 权限判定 Permission judgment type string | array} authority\n * @param { 当前权限 Your permission description  type:string} currentAuthority\n * @param { 通过的组件 Passing components } target\n * @param { 未通过的组件 no pass components } unAuthor\n */\nexport const CheckPermission = (\n\trouteAuthority,\n\tcurrentAuthority,\n\tTarget,\n\tUnidentified\n) => {\n\tif (!currentAuthority || currentAuthority.length === 0) {\n\t\treturn Unidentified\n\t}\n\tif (!routeAuthority) {\n\t\treturn Target;\n\t}\n\tif (Array.isArray(routeAuthority)) {\n\t\tif (routeAuthority.indexOf(currentAuthority) >= 0) {\n\t\t\treturn Target;\n\t\t}\n\t\tif (Array.isArray(currentAuthority)) {\n\t\t\tfor (let i = 0; i < currentAuthority.length; i += 1) {\n\t\t\t\tconst element = currentAuthority[i];\n\t\t\t\tif (routeAuthority.indexOf(element) >= 0) {\n\t\t\t\t\treturn Target;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn Unidentified;\n\t}\n\tif (typeof routeAuthority === 'string') {\n\t\tif (routeAuthority === 'all') {\n\t\t\treturn currentAuthority ? Target : Unidentified;\n\t\t}\n\n\t\tif (routeAuthority === currentAuthority) {\n\t\t\treturn Target;\n\t\t}\n\t\tif (Array.isArray(currentAuthority)) {\n\t\t\tfor (let i = 0; i < currentAuthority.length; i += 1) {\n\t\t\t\tconst element = currentAuthority[i];\n\t\t\t\tif (routeAuthority === element) {\n\t\t\t\t\treturn Target;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn Unidentified;\n\t}\n\tthrow new Error('unsupported parameters');\n};\n"],"sourceRoot":""}